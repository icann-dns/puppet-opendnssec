<?xml version="1.0" encoding="UTF-8"?>
<!-- File managed by puppet DO NOT EDIT -->
<Adapter>
  <DNS>
<%- if @default_tsig_name != 'NOKEY' -%>
    <xi:include href="<%= @tsigs_dir %>/<%= @default_tsig_name %>.xml" />
<%- end -%>
<%- @masters.each do |master| -%>
  <%- if @remotes[master].fetch('tsig_name', 'NOKEY') != 'NOKEY' -%>
    <xi:include href="<%= @tsigs_dir %>/<%= @remotes[master]['tsig_name'] %>.xml" />
  <%- end -%>
<%- end -%>
<%- @provide_xfrs.each do |provide_xfr| -%>
  <%- if @remotes[provide_xfr].fetch('tsig_name', 'NOKEY') != 'NOKEY' -%>
    <xi:include href="<%= @tsigs_dir %>/<%= @remotes[provide_xfr]['tsig_name'] %>.xml" />
  <%- end -%>
<%- end -%>
    <Inbound>
      <RequestTransfer>
<%- @masters.each do |master| -%>
        <xi:include href="<%= @remotes_dir %>/<%= master %>_requesttransfer.xml" />
<%- end -%>
      </RequestTransfer>
      <AllowNotify>
<%- @masters.each do |master| -%>
        <xi:include href="<%= @remotes_dir %>/<%= master %>_notify_in.xml" />
<%- end -%>
      </AllowNotify>
    </Inbound>
    <Outbound>
      <ProvideTransfer>
<%- if @xferout_enabled -%>
  <%- @provide_xfrs.each do |provide_xfr| -%>
        <xi:include href="<%= @remotes_dir %>/<%= provide_xfr %>_providetransfer.xml" />
  <%- end -%>
<%- end -%>
      </ProvideTransfer>
      <Notify>
<%- if @xferout_enabled -%>
  <%- @provide_xfrs.each do |provide_xfr| -%>
    <%- if @remotes[provide_xfr].include?('address4') -%>
        <xi:include href="<%= @remotes_dir %>/<%= provide_xfr %>_notify_out.xml" />
    <%- end -%>
  <%- end -%>
<%- end -%>
      </Notify>
    </Outbound>
  </DNS>
</Adapter>
